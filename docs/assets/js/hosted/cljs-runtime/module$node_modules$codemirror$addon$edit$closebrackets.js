shadow$provide.module$node_modules$codemirror$addon$edit$closebrackets=function(P,U,y,L,F){(function(a){"object"==typeof F&&"object"==typeof L?a(y("module$node_modules$codemirror$lib$codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function m(a,b){return"pairs"==b&&"string"==typeof a?a:"object"==typeof a&&null!=a[b]?a[b]:q[b]}function G(a){for(var d=0;d<a.length;d++){var g=a.charAt(d),h="'"+g+"'";b[h]||(b[h]=C(g))}}function C(a){return function(b){return r(b,
a)}}function x(a){var b=a.state.closeBrackets;return!b||b.override?b:a.getModeAt(a.getCursor()).closeBrackets||b}function r(b,q){var g=x(b);if(!g||b.getOption("disableInput"))return a.Pass;var h=m(g,"pairs"),n=h.indexOf(q);if(-1==n)return a.Pass;g=m(g,"triples");for(var w=h.charAt(n+1)==q,k=b.listSelections(),I=0==n%2,r,B=0;B<k.length;B++){var C=k[B],X=C.head;var G=b.getRange(X,d(X.line,X.ch+1));if(I&&!C.empty())G="surround";else if(!w&&I||G!=q)if(w&&1<X.ch&&0<=g.indexOf(q)&&b.getRange(d(X.line,X.ch-
2),X)==q+q){if(2<X.ch&&/\bstring/.test(b.getTokenTypeAt(d(X.line,X.ch-2))))return a.Pass;G="addFour"}else if(w){C=0==X.ch?" ":b.getRange(d(X.line,X.ch-1),X);if(a.isWordChar(G)||C==q||a.isWordChar(C))return a.Pass;G="both"}else if(I&&(b.getLine(X.line).length==X.ch||z(G,h)||/\s/.test(G)))G="both";else return a.Pass;else G=w&&T(b,X)?"both":0<=g.indexOf(q)&&b.getRange(X,d(X.line,X.ch+3))==q+q+q?"skipThree":"skip";if(!r)r=G;else if(r!=G)return a.Pass}var M=n%2?h.charAt(n-1):q,D=n%2?q:h.charAt(n+1);b.operation(function(){if("skip"==
r)b.execCommand("goCharRight");else if("skipThree"==r)for(var f=0;3>f;f++)b.execCommand("goCharRight");else if("surround"==r){var g=b.getSelections();for(f=0;f<g.length;f++)g[f]=M+g[f]+D;b.replaceSelections(g,"around");g=b.listSelections().slice();for(f=0;f<g.length;f++){var h=g,k=f;var n=g[f];var w=0<a.cmpPos(n.anchor,n.head);n={anchor:new d(n.anchor.line,n.anchor.ch+(w?-1:1)),head:new d(n.head.line,n.head.ch+(w?1:-1))};h[k]=n}b.setSelections(g)}else"both"==r?(b.replaceSelection(M+D,null),b.triggerElectric(M+
D),b.execCommand("goCharLeft")):"addFour"==r&&(b.replaceSelection(M+M+M+M,"before"),b.execCommand("goCharRight"))})}function z(a,b){a=b.lastIndexOf(a);return-1<a&&1==a%2}function B(a,b){a=a.getRange(d(b.line,b.ch-1),d(b.line,b.ch+1));return 2==a.length?a:null}function T(a,b){var g=a.getTokenAt(d(b.line,b.ch+1));return/\bstring/.test(g.type)&&g.start==b.ch&&(0==b.ch||!/\bstring/.test(a.getTokenTypeAt(b)))}var q={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},d=a.Pos;a.defineOption("autoCloseBrackets",
!1,function(d,q,g){g&&g!=a.Init&&(d.removeKeyMap(b),d.state.closeBrackets=null);q&&(G(m(q,"pairs")),d.state.closeBrackets=q,d.addKeyMap(b))});var b={Backspace:function(b){var n=x(b);if(!n||b.getOption("disableInput"))return a.Pass;var g=m(n,"pairs");n=b.listSelections();for(var h=0;h<n.length;h++){if(!n[h].empty())return a.Pass;var q=B(b,n[h].head);if(!q||0!=g.indexOf(q)%2)return a.Pass}for(h=n.length-1;0<=h;h--)g=n[h].head,b.replaceRange("",d(g.line,g.ch-1),d(g.line,g.ch+1),"+delete")},Enter:function(b){var d=
x(b);d=d&&m(d,"explode");if(!d||b.getOption("disableInput"))return a.Pass;for(var g=b.listSelections(),h=0;h<g.length;h++){if(!g[h].empty())return a.Pass;var n=B(b,g[h].head);if(!n||0!=d.indexOf(n)%2)return a.Pass}b.operation(function(){var a=b.lineSeparator()||"\n";b.replaceSelection(a+a,null);b.execCommand("goCharLeft");g=b.listSelections();for(a=0;a<g.length;a++){var d=g[a].head.line;b.indentLine(d,null,!0);b.indentLine(d+1,null,!0)}})}};G(q.pairs+"`")})}
//# sourceMappingURL=module$node_modules$codemirror$addon$edit$closebrackets.js.map
