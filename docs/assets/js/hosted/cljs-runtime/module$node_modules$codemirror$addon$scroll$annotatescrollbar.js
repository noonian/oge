shadow$provide.module$node_modules$codemirror$addon$scroll$annotatescrollbar=function(P,U,y,L,F){(function(a){"object"==typeof F&&"object"==typeof L?a(y("module$node_modules$codemirror$lib$codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function m(a,m){function x(a){clearTimeout(r.doRedraw);r.doRedraw=setTimeout(function(){r.redraw()},a)}this.cm=a;this.options=m;this.buttonHeight=m.scrollButtonHeight||a.getOption("scrollButtonHeight");
this.annotations=[];this.doRedraw=this.doUpdate=null;this.div=a.getWrapperElement().appendChild(document.createElement("div"));this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none";this.computeScale();var r=this;a.on("refresh",this.resizeHandler=function(){clearTimeout(r.doUpdate);r.doUpdate=setTimeout(function(){r.computeScale()&&x(20)},100)});a.on("markerAdded",this.resizeHandler);a.on("markerCleared",this.resizeHandler);if(!1!==m.listenForChanges)a.on("change",
this.changeHandler=function(){x(250)})}a.defineExtension("annotateScrollbar",function(a){"string"==typeof a&&(a={className:a});return new m(this,a)});a.defineOption("scrollButtonHeight",0);m.prototype.computeScale=function(){var a=this.cm;a=(a.getWrapperElement().clientHeight-a.display.barHeight-2*this.buttonHeight)/a.getScrollerElement().scrollHeight;if(a!=this.hScale)return this.hScale=a,!0};m.prototype.update=function(a){this.annotations=a;this.redraw()};m.prototype.redraw=function(a){function m(a,
b){q!=a.line&&(q=a.line,d=x.getLineHandle(q));return d.widgets&&d.widgets.length||B&&d.height>T?x.charCoords(a,"local")[b?"top":"bottom"]:x.heightAtLine(d,"local")+(b?0:d.height)}!1!==a&&this.computeScale();var x=this.cm;a=this.hScale;var r=document.createDocumentFragment(),z=this.annotations,B=x.getOption("lineWrapping"),T=B&&1.5*x.defaultTextHeight(),q=null,d=null,b=x.lastLine();if(x.display.barWidth)for(var n=0,I;n<z.length;n++){var g=z[n];if(!(g.to.line>b)){for(var h=I||m(g.from,!0)*a,E=m(g.to,
!1)*a;n<z.length-1&&!(z[n+1].to.line>b);){I=m(z[n+1].from,!0)*a;if(I>E+.9)break;g=z[++n];E=m(g.to,!1)*a}if(E!=h){E=Math.max(E-h,3);var w=r.appendChild(document.createElement("div"));w.style.cssText="position: absolute; right: 0px; width: "+Math.max(x.display.barWidth-1,2)+"px; top: "+(h+this.buttonHeight)+"px; height: "+E+"px";w.className=this.options.className;g.id&&w.setAttribute("annotation-id",g.id)}}}this.div.textContent="";this.div.appendChild(r)};m.prototype.clear=function(){this.cm.off("refresh",
this.resizeHandler);this.cm.off("markerAdded",this.resizeHandler);this.cm.off("markerCleared",this.resizeHandler);this.changeHandler&&this.cm.off("change",this.changeHandler);this.div.parentNode.removeChild(this.div)}})}
//# sourceMappingURL=module$node_modules$codemirror$addon$scroll$annotatescrollbar.js.map
