{
"version":3,
"file":"module$node_modules$codemirror$addon$edit$closebrackets.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/codemirror/addon/edit/closebrackets.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$codemirror$addon$edit$closebrackets\"] = function(global,process,require,module,exports) {\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var defaults = {\n    pairs: \"()[]{}''\\\"\\\"\",\n    triples: \"\",\n    explode: \"[]{}\"\n  };\n\n  var Pos = CodeMirror.Pos;\n\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.removeKeyMap(keyMap);\n      cm.state.closeBrackets = null;\n    }\n    if (val) {\n      ensureBound(getOption(val, \"pairs\"))\n      cm.state.closeBrackets = val;\n      cm.addKeyMap(keyMap);\n    }\n  });\n\n  function getOption(conf, name) {\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\n    return defaults[name];\n  }\n\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\n  function ensureBound(chars) {\n    for (var i = 0; i < chars.length; i++) {\n      var ch = chars.charAt(i), key = \"'\" + ch + \"'\"\n      if (!keyMap[key]) keyMap[key] = handler(ch)\n    }\n  }\n  ensureBound(defaults.pairs + \"`\")\n\n  function handler(ch) {\n    return function(cm) { return handleChar(cm, ch); };\n  }\n\n  function getConfig(cm) {\n    var deflt = cm.state.closeBrackets;\n    if (!deflt || deflt.override) return deflt;\n    var mode = cm.getModeAt(cm.getCursor());\n    return mode.closeBrackets || deflt;\n  }\n\n  function handleBackspace(cm) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var cur = ranges[i].head;\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\n    }\n  }\n\n  function handleEnter(cm) {\n    var conf = getConfig(cm);\n    var explode = conf && getOption(conf, \"explode\");\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    cm.operation(function() {\n      var linesep = cm.lineSeparator() || \"\\n\";\n      cm.replaceSelection(linesep + linesep, null);\n      cm.execCommand(\"goCharLeft\");\n      ranges = cm.listSelections();\n      for (var i = 0; i < ranges.length; i++) {\n        var line = ranges[i].head.line;\n        cm.indentLine(line, null, true);\n        cm.indentLine(line + 1, null, true);\n      }\n    });\n  }\n\n  function contractSelection(sel) {\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\n  }\n\n  function handleChar(cm, ch) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var pos = pairs.indexOf(ch);\n    if (pos == -1) return CodeMirror.Pass;\n    var triples = getOption(conf, \"triples\");\n\n    var identical = pairs.charAt(pos + 1) == ch;\n    var ranges = cm.listSelections();\n    var opening = pos % 2 == 0;\n\n    var type;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], cur = range.head, curType;\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\n      if (opening && !range.empty()) {\n        curType = \"surround\";\n      } else if ((identical || !opening) && next == ch) {\n        if (identical && stringStartsAfter(cm, cur))\n          curType = \"both\";\n        else if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\n          curType = \"skipThree\";\n        else\n          curType = \"skip\";\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch) {\n        if (cur.ch > 2 && /\\bstring/.test(cm.getTokenTypeAt(Pos(cur.line, cur.ch - 2)))) return CodeMirror.Pass;\n        curType = \"addFour\";\n      } else if (identical) {\n        var prev = cur.ch == 0 ? \" \" : cm.getRange(Pos(cur.line, cur.ch - 1), cur)\n        if (!CodeMirror.isWordChar(next) && prev != ch && !CodeMirror.isWordChar(prev)) curType = \"both\";\n        else return CodeMirror.Pass;\n      } else if (opening && (cm.getLine(cur.line).length == cur.ch ||\n                             isClosingBracket(next, pairs) ||\n                             /\\s/.test(next))) {\n        curType = \"both\";\n      } else {\n        return CodeMirror.Pass;\n      }\n      if (!type) type = curType;\n      else if (type != curType) return CodeMirror.Pass;\n    }\n\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\n    cm.operation(function() {\n      if (type == \"skip\") {\n        cm.execCommand(\"goCharRight\");\n      } else if (type == \"skipThree\") {\n        for (var i = 0; i < 3; i++)\n          cm.execCommand(\"goCharRight\");\n      } else if (type == \"surround\") {\n        var sels = cm.getSelections();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = left + sels[i] + right;\n        cm.replaceSelections(sels, \"around\");\n        sels = cm.listSelections().slice();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = contractSelection(sels[i]);\n        cm.setSelections(sels);\n      } else if (type == \"both\") {\n        cm.replaceSelection(left + right, null);\n        cm.triggerElectric(left + right);\n        cm.execCommand(\"goCharLeft\");\n      } else if (type == \"addFour\") {\n        cm.replaceSelection(left + left + left + left, \"before\");\n        cm.execCommand(\"goCharRight\");\n      }\n    });\n  }\n\n  function isClosingBracket(ch, pairs) {\n    var pos = pairs.lastIndexOf(ch);\n    return pos > -1 && pos % 2 == 1;\n  }\n\n  function charsAround(cm, pos) {\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\n                          Pos(pos.line, pos.ch + 1));\n    return str.length == 2 ? str : null;\n  }\n\n  function stringStartsAfter(cm, pos) {\n    var token = cm.getTokenAt(Pos(pos.line, pos.ch + 1))\n    return /\\bstring/.test(token.type) && token.start == pos.ch &&\n      (pos.ch == 0 || !/\\bstring/.test(cm.getTokenTypeAt(pos)))\n  }\n});\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","mod","define","amd","CodeMirror","getOption","conf","name","defaults","ensureBound","chars","i","length","ch","charAt","key","keyMap","handler","cm","handleChar","getConfig","deflt","state","closeBrackets","override","getModeAt","mode","getCursor","Pass","pairs","pos","indexOf","triples","identical","ranges","listSelections","opening","type","range","cur","head","next","getRange","Pos","line","empty","curType","test","getTokenTypeAt","prev","isWordChar","getLine","isClosingBracket","stringStartsAfter","left","right","operation","execCommand","sels","getSelections","replaceSelections","slice","inverted","cmpPos","sel","anchor","setSelections","replaceSelection","triggerElectric","lastIndexOf","charsAround","str","token","getTokenAt","start","explode","defineOption","val","old","Init","removeKeyMap","addKeyMap","Backspace","handleBackspace","around","replaceRange","Enter","handleEnter","linesep","lineSeparator","indentLine"]
}
