shadow$provide.module$node_modules$codemirror$addon$hint$show_hint=function(P,U,y,L,F){(function(a){"object"==typeof F&&"object"==typeof L?a(y("module$node_modules$codemirror$lib$codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function m(a,b){this.cm=a;this.options=b;this.widget=null;this.tick=this.debounce=0;this.startPos=this.cm.getCursor("start");this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;
var d=this;a.on("cursorActivity",this.activityFunc=function(){d.cursorActivity()})}function G(a,b){function d(a,d){var g="string"!=typeof d?function(a){return d(a,b)}:q.hasOwnProperty(d)?q[d]:d;h[a]=g}var q={Up:function(){b.moveFocus(-1)},Down:function(){b.moveFocus(1)},PageUp:function(){b.moveFocus(-b.menuSize()+1,!0)},PageDown:function(){b.moveFocus(b.menuSize()-1,!0)},Home:function(){b.setFocus(0)},End:function(){b.setFocus(b.length-1)},Enter:b.pick,Tab:b.pick,Esc:b.close},g=a.options.customKeys,
h=g?{}:q;if(g)for(var m in g)g.hasOwnProperty(m)&&d(m,g[m]);if(a=a.options.extraKeys)for(m in a)a.hasOwnProperty(m)&&d(m,a[m]);return h}function C(a,b){for(;b&&b!=a;){if("LI"===b.nodeName.toUpperCase()&&b.parentNode==a)return b;b=b.parentNode}}function x(d,b){this.completion=d;this.data=b;this.picked=!1;var n=this,q=d.cm,g=this.hints=document.createElement("ul");g.className="CodeMirror-hints";this.selectedHint=b.selectedHint||0;for(var h=b.list,m=0;m<h.length;++m){var w=g.appendChild(document.createElement("li")),
k=h[m],r="CodeMirror-hint"+(m!=this.selectedHint?"":" CodeMirror-hint-active");null!=k.className&&(r=k.className+" "+r);w.className=r;k.render?k.render(w,b,k):w.appendChild(document.createTextNode(k.displayText||("string"==typeof k?k:k.text)));w.hintId=m}m=q.cursorCoords(d.options.alignWithWord?b.from:null);var z=m.left,B=m.bottom,x=!0;g.style.left=z+"px";g.style.top=B+"px";w=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);var T=window.innerHeight||Math.max(document.body.offsetHeight,
document.documentElement.offsetHeight);(d.options.container||document.body).appendChild(g);k=g.getBoundingClientRect();var y=k.bottom-T;r=g.scrollHeight>g.clientHeight+1;var M=q.getScrollInfo();0<y&&(y=k.bottom-k.top,0<m.top-(m.bottom-k.top)-y?(g.style.top=(B=m.top-y)+"px",x=!1):y>T&&(g.style.height=T-5+"px",g.style.top=(B=m.bottom-k.top)+"px",T=q.getCursor(),b.from.ch!=T.ch&&(m=q.cursorCoords(T),g.style.left=(z=m.left)+"px",k=g.getBoundingClientRect())));T=k.right-w;0<T&&(k.right-k.left>w&&(g.style.width=
w-5+"px",T-=k.right-k.left-w),g.style.left=(z=m.left-T)+"px");if(r)for(m=g.firstChild;m;m=m.nextSibling)m.style.paddingRight=q.display.nativeBarWidth+"px";q.addKeyMap(this.keyMap=G(d,{moveFocus:function(a,b){n.changeActive(n.selectedHint+a,b)},setFocus:function(a){n.changeActive(a)},menuSize:function(){return n.screenAmount()},length:h.length,close:function(){d.close()},pick:function(){n.pick()},data:b}));if(d.options.closeOnUnfocus){var D;q.on("blur",this.onBlur=function(){D=setTimeout(function(){d.close()},
100)});q.on("focus",this.onFocus=function(){clearTimeout(D)})}q.on("scroll",this.onScroll=function(){var a=q.getScrollInfo(),b=q.getWrapperElement().getBoundingClientRect(),h=B+M.top-a.top,k=h-(window.pageYOffset||(document.documentElement||document.body).scrollTop);x||(k+=g.offsetHeight);if(k<=b.top||k>=b.bottom)return d.close();g.style.top=h+"px";g.style.left=z+M.left-a.left+"px"});a.on(g,"dblclick",function(a){(a=C(g,a.target||a.srcElement))&&null!=a.hintId&&(n.changeActive(a.hintId),n.pick())});
a.on(g,"click",function(a){(a=C(g,a.target||a.srcElement))&&null!=a.hintId&&(n.changeActive(a.hintId),d.options.completeOnSingleClick&&n.pick())});a.on(g,"mousedown",function(){setTimeout(function(){q.focus()},20)});a.signal(b,"select",h[this.selectedHint],g.childNodes[this.selectedHint]);return!0}function r(a,b){if(!a.somethingSelected())return b;a=[];for(var d=0;d<b.length;d++)b[d].supportsSelection&&a.push(b[d]);return a}function z(a,b,n,q){a.async?a(b,q,n):(a=a(b,n))&&a.then?a.then(q):q(a)}a.showHint=
function(a,b,n){if(!b)return a.showHint(n);n&&n.async&&(b.async=!0);b={hint:b};if(n)for(var d in n)b[d]=n[d];return a.showHint(b)};a.defineExtension("showHint",function(d){var b=this.getCursor("start"),n=this.options.hintOptions,r={},g;for(g in q)r[g]=q[g];if(n)for(g in n)void 0!==n[g]&&(r[g]=n[g]);if(d)for(g in d)void 0!==d[g]&&(r[g]=d[g]);r.hint.resolve&&(r.hint=r.hint.resolve(this,b));d=r;b=this.listSelections();if(!(1<b.length)){if(this.somethingSelected()){if(!d.hint.supportsSelection)return;
for(g=0;g<b.length;g++)if(b[g].head.line!=b[g].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();b=this.state.completionActive=new m(this,d);b.options.hint&&(a.signal(this,"startCompletion",this),b.update(!0))}});var B=window.requestAnimationFrame||function(a){return setTimeout(a,1E3/60)},T=window.cancelAnimationFrame||clearTimeout;m.prototype={close:function(){this.active()&&(this.tick=this.cm.state.completionActive=null,this.cm.off("cursorActivity",this.activityFunc),
this.widget&&this.data&&a.signal(this.data,"close"),this.widget&&this.widget.close(),a.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(d,b){b=d.list[b];b.hint?b.hint(this.cm,d,b):this.cm.replaceRange("string"==typeof b?b:b.text,b.from||d.from,b.to||d.to,"complete");a.signal(d,"pick",b);this.close()},cursorActivity:function(){this.debounce&&(T(this.debounce),this.debounce=0);var a=this.cm.getCursor(),b=this.cm.getLine(a.line);if(a.line!=
this.startPos.line||b.length-a.ch!=this.startLen-this.startPos.ch||a.ch<this.startPos.ch||this.cm.somethingSelected()||a.ch&&this.options.closeCharacters.test(b.charAt(a.ch-1)))this.close();else{var n=this;this.debounce=B(function(){n.update()});this.widget&&this.widget.disable()}},update:function(a){if(null!=this.tick){var b=this,d=++this.tick;z(this.options.hint,this.cm,this.options,function(n){b.tick==d&&b.finishUpdate(n,a)})}},finishUpdate:function(d,b){this.data&&a.signal(this.data,"update");
b=this.widget&&this.widget.picked||b&&this.options.completeSingle;this.widget&&this.widget.close();(this.data=d)&&d.list.length&&(b&&1==d.list.length?this.pick(d,0):(this.widget=new x(this,d),a.signal(d,"shown")))}};x.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var a=this.completion.cm;this.completion.options.closeOnUnfocus&&(a.off("blur",this.onBlur),a.off("focus",
this.onFocus));a.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var a=this;this.keyMap={Enter:function(){a.picked=!0}};this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(d,b){d>=this.data.list.length?d=b?this.data.list.length-1:0:0>d&&(d=b?0:this.data.list.length-1);this.selectedHint!=d&&(b=this.hints.childNodes[this.selectedHint],b.className=b.className.replace(" CodeMirror-hint-active",
""),b=this.hints.childNodes[this.selectedHint=d],b.className+=" CodeMirror-hint-active",b.offsetTop<this.hints.scrollTop?this.hints.scrollTop=b.offsetTop-3:b.offsetTop+b.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=b.offsetTop+b.offsetHeight-this.hints.clientHeight+3),a.signal(this.data,"select",this.data.list[this.selectedHint],b))},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}};a.registerHelper("hint",
"auto",{resolve:function(d,b){var n=d.getHelpers(b,"hint"),q;return n.length?(d=function(a,b,d){function g(k){if(k==h.length)return b(null);z(h[k],a,d,function(a){a&&0<a.list.length?b(a):g(k+1)})}var h=r(a,n);g(0)},d.async=!0,d.supportsSelection=!0,d):(q=d.getHelper(d.getCursor(),"hintWords"))?function(b){return a.hint.fromList(b,{words:q})}:a.hint.anyword?function(b,d){return a.hint.anyword(b,d)}:function(){}}});a.registerHelper("hint","fromList",function(d,b){var n=d.getCursor(),q=d.getTokenAt(n);
d=a.Pos(n.line,q.start);q.start<n.ch&&/\w/.test(q.string.charAt(n.ch-q.start-1))?q=q.string.substr(0,n.ch-q.start):(q="",d=n);for(var g=[],h=0;h<b.words.length;h++){var m=b.words[h];m.slice(0,q.length)==q&&g.push(m)}if(g.length)return{list:g,from:d,to:n}});a.commands.autocomplete=a.showHint;var q={hint:a.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};a.defineOption("hintOptions",
null)})}
//# sourceMappingURL=module$node_modules$codemirror$addon$hint$show_hint.js.map
