shadow$provide.module$node_modules$d3_brush$build$d3_brush=function(P,U,y,L,F){(function(a,m){"object"===typeof F&&"undefined"!==typeof L?m(F,y("module$node_modules$d3_dispatch$build$d3_dispatch"),y("module$node_modules$d3_drag$build$d3_drag"),y("module$node_modules$d3_interpolate$build$d3_interpolate"),y("module$node_modules$d3_selection$dist$d3_selection"),y("module$node_modules$d3_transition$build$d3_transition")):"function"===typeof define&&define.amd?define("exports d3-dispatch d3-drag d3-interpolate d3-selection d3-transition".split(" "),
m):m(a.d3=a.d3||{},a.d3,a.d3,a.d3,a.d3,a.d3)})(this,function(a,m,G,C,x,r){function z(a){return{type:a}}function B(){return!x.event.button}function y(){var a=this.ownerSVGElement||this;return[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]}function q(a){for(;!a.__brush;)if(!(a=a.parentNode))return;return a.__brush}function d(a){return a[0][0]===a[1][0]||a[0][1]===a[1][1]}function b(a){function b(b){var d=b.property("__brush",Ea).selectAll(".overlay").data([z("overlay")]);d.enter().append("rect").attr("class",
"overlay").attr("pointer-events","all").attr("cursor",ha.overlay).merge(d).each(function(){var a=q(this).extent;x.select(this).attr("x",a[0][0]).attr("y",a[0][1]).attr("width",a[1][0]-a[0][0]).attr("height",a[1][1]-a[0][1])});b.selectAll(".selection").data([z("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ha.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");d=b.selectAll(".handle").data(a.handles,function(a){return a.type});
d.exit().remove();d.enter().append("rect").attr("class",function(a){return"handle handle--"+a.type}).attr("cursor",function(a){return ha[a.type]});b.each(f).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",L)}function f(){var a=x.select(this),b=q(this).selection;b?(a.selectAll(".selection").style("display",null).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1]),
a.selectAll(".handle").style("display",null).attr("x",function(a){return"e"===a.type[a.type.length-1]?b[1][0]-V/2:b[0][0]-V/2}).attr("y",function(a){return"s"===a.type[0]?b[1][1]-V/2:b[0][1]-V/2}).attr("width",function(a){return"n"===a.type||"s"===a.type?b[1][0]-b[0][0]+V:V}).attr("height",function(a){return"e"===a.type||"w"===a.type?b[1][1]-b[0][1]+V:V})):a.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function R(a,b){return a.__brush.emitter||
new T(a,b)}function T(a,b){this.that=a;this.args=b;this.state=a.__brush;this.active=0}function L(){function b(){var a=x.mouse(I);!Ca||Ea||Y||(Math.abs(a[0]-ca[0])>Math.abs(a[1]-ca[1])?Y=!0:Ea=!0);ca=a;L=!0;g();n()}function n(){sa=ca[0]-P[0];Aa=ca[1]-P[1];switch(t){case E:case h:J&&(sa=Math.max(Q-y,Math.min(ja-ua,sa)),ia=y+sa,Fa=ua+sa);c&&(Aa=Math.max(T-V,Math.min(Ga-Ma,Aa)),U=V+Aa,wa=Ma+Aa);break;case w:0>J?(sa=Math.max(Q-y,Math.min(ja-y,sa)),ia=y+sa,Fa=ua):0<J&&(sa=Math.max(Q-ua,Math.min(ja-ua,sa)),
ia=y,Fa=ua+sa);0>c?(Aa=Math.max(T-V,Math.min(Ga-V,Aa)),U=V+Aa,wa=Ma):0<c&&(Aa=Math.max(T-Ma,Math.min(Ga-Ma,Aa)),U=V,wa=Ma+Aa);break;case k:J&&(ia=Math.max(Q,Math.min(ja,y-sa*J)),Fa=Math.max(Q,Math.min(ja,ua+sa*J))),c&&(U=Math.max(T,Math.min(Ga,V-Aa*c)),wa=Math.max(T,Math.min(Ga,Ma+Aa*c)))}if(Fa<ia){J*=-1;var a=y;y=ua;ua=a;a=ia;ia=Fa;Fa=a;S in X&&jc.attr("cursor",ha[S=X[S]])}wa<U&&(c*=-1,a=V,V=Ma,Ma=a,a=U,U=wa,wa=a,S in da&&jc.attr("cursor",ha[S=da[S]]));N.selection&&(C=N.selection);Ea&&(ia=C[0][0],
Fa=C[1][0]);Y&&(U=C[0][1],wa=C[1][1]);if(C[0][0]!==ia||C[0][1]!==U||C[1][0]!==Fa||C[1][1]!==wa)N.selection=[[ia,U],[Fa,wa]],f.call(I),fa.brush()}function m(){x.event.stopImmediatePropagation();if(x.event.touches){if(x.event.touches.length)return;ka&&clearTimeout(ka);ka=setTimeout(function(){ka=null},500);vb.on("touchmove.brush touchend.brush touchcancel.brush",null)}else G.dragEnable(x.event.view,L),fd.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);vb.attr("pointer-events","all");
jc.attr("cursor",ha.overlay);N.selection&&(C=N.selection);d(C)&&(N.selection=null,f.call(I));fa.end()}function z(){switch(x.event.keyCode){case 16:Ca=J&&c;break;case 18:t===w&&(J&&(ua=Fa-sa*J,y=ia+sa*J),c&&(Ma=wa-Aa*c,V=U+Aa*c),t=k,n());break;case 32:if(t===w||t===k)0>J?ua=Fa-sa:0<J&&(y=ia-sa),0>c?Ma=wa-Aa:0<c&&(V=U-Aa),t=E,jc.attr("cursor",ha.selection),n();break;default:return}g()}function B(){switch(x.event.keyCode){case 16:Ca&&(Ea=Y=Ca=!1,n());break;case 18:t===k&&(0>J?ua=Fa:0<J&&(y=ia),0>c?Ma=
wa:0<c&&(V=U),t=w,n());break;case 32:t===E&&(x.event.altKey?(J&&(ua=Fa-sa*J,y=ia+sa*J),c&&(Ma=wa-Aa*c,V=U+Aa*c),t=k):(0>J?ua=Fa:0<J&&(y=ia),0>c?Ma=wa:0<c&&(V=U),t=w),jc.attr("cursor",ha[S]),n());break;default:return}g()}if(x.event.touches){if(x.event.changedTouches.length<x.event.touches.length)return g()}else if(ka)return;if(H.apply(this,arguments)){var I=this,S=x.event.target.__data__.type,t="selection"===(x.event.metaKey?S="overlay":S)?h:x.event.altKey?k:w,J=a===F?null:M[S],c=a===ea?null:D[S],
N=q(I),O=N.extent,C=N.selection,Q=O[0][0],y,T=O[0][1],V,ja=O[1][0],ua,Ga=O[1][1],Ma,sa,Aa,L,Ca=J&&c&&x.event.shiftKey,Ea,Y,P=x.mouse(I),ca=P,fa=R(I,arguments).beforestart();"overlay"===S?N.selection=C=[[y=a===F?Q:P[0],V=a===ea?T:P[1]],[ua=a===F?ja:y,Ma=a===ea?Ga:V]]:(y=C[0][0],V=C[0][1],ua=C[1][0],Ma=C[1][1]);var ia=y;var U=V;var Fa=ua;var wa=Ma;var vb=x.select(I).attr("pointer-events","none"),jc=vb.selectAll(".overlay").attr("cursor",ha[S]);if(x.event.touches)vb.on("touchmove.brush",b,!0).on("touchend.brush touchcancel.brush",
m,!0);else{var fd=x.select(x.event.view).on("keydown.brush",z,!0).on("keyup.brush",B,!0).on("mousemove.brush",b,!0).on("mouseup.brush",m,!0);G.dragDisable(x.event.view)}x.event.stopImmediatePropagation();r.interrupt(I);f.call(I);fa.start()}}function Ea(){var b=this.__brush||{selection:null};b.extent=P.apply(this,arguments);b.dim=a;return b}var P=y,H=B,S=m.dispatch(b,"start","brush","end"),V=6,ka;b.move=function(b,g){b.selection?b.on("start.brush",function(){R(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",
function(){R(this,arguments).end()}).tween("brush",function(){function b(a){k.selection=1===a&&d(t)?null:q(a);f.call(h);n.brush()}var h=this,k=h.__brush,n=R(h,arguments),m=k.selection,t=a.input("function"===typeof g?g.apply(this,arguments):g,k.extent),q=C.interpolate(m,t);return m&&t?b:b(1)}):b.each(function(){var b=arguments,h=this.__brush,k=a.input("function"===typeof g?g.apply(this,b):g,h.extent);b=R(this,b).beforestart();r.interrupt(this);h.selection=null==k||d(k)?null:k;f.call(this);b.start().brush().end()})};
T.prototype={beforestart:function(){1===++this.active&&(this.state.emitter=this,this.starting=!0);return this},start:function(){this.starting&&(this.starting=!1,this.emit("start"));return this},brush:function(){this.emit("brush");return this},end:function(){0===--this.active&&(delete this.state.emitter,this.emit("end"));return this},emit:function(d){x.customEvent(new I(b,d,a.output(this.state.selection)),S.apply,S,[d,this.that,this.args])}};b.extent=function(a){return arguments.length?(P="function"===
typeof a?a:n([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),b):P};b.filter=function(a){return arguments.length?(H="function"===typeof a?a:n(!!a),b):H};b.handleSize=function(a){return arguments.length?(V=+a,b):V};b.on=function(){var a=S.on.apply(S,arguments);return a===S?b:a};return b}var n=function(a){return function(){return a}},I=function(a,b,d){this.target=a;this.type=b;this.selection=d},g=function(){x.event.preventDefault();x.event.stopImmediatePropagation()},h={name:"drag"},E={name:"space"},w={name:"handle"},
k={name:"center"},ea={name:"x",handles:["e","w"].map(z),input:function(a,b){return a&&[[a[0],b[0][1]],[a[1],b[1][1]]]},output:function(a){return a&&[a[0][0],a[1][0]]}},F={name:"y",handles:["n","s"].map(z),input:function(a,b){return a&&[[b[0][0],a[0]],[b[1][0],a[1]]]},output:function(a){return a&&[a[0][1],a[1][1]]}},R={name:"xy",handles:"n e s w nw ne se sw".split(" ").map(z),input:function(a){return a},output:function(a){return a}},ha={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",
s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},X={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},da={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},M={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},D={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};a.brush=function(){return b(R)};a.brushX=function(){return b(ea)};a.brushY=function(){return b(F)};a.brushSelection=function(a){return(a=a.__brush)?a.dim.output(a.selection):
null};Object.defineProperty(a,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$d3_brush$build$d3_brush.js.map
