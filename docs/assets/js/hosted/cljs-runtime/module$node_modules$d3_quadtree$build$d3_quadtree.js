shadow$provide.module$node_modules$d3_quadtree$build$d3_quadtree=function(P,U,y,L,F){(function(a,m){"object"===typeof F&&"undefined"!==typeof L?m(F):"function"===typeof define&&define.amd?define(["exports"],m):m(a.d3=a.d3||{})})(this,function(a){function m(a,d,b,n){if(isNaN(d)||isNaN(b))return a;var m,g=a._root;n={data:n};var h=a._x0,q=a._y0,r=a._x1,k=a._y1,x,z,B,y;if(!g)return a._root=n,a;for(;g.length;)if((B=d>=(x=(h+r)/2))?h=x:r=x,(y=b>=(z=(q+k)/2))?q=z:k=z,m=g,!(g=g[B|=y<<1]))return m[B]=n,a;
var C=+a._x.call(null,g.data);var G=+a._y.call(null,g.data);if(d===C&&b===G)return n.next=g,m?m[B]=n:a._root=n,a;do m=m?m[B]=Array(4):a._root=Array(4),(B=d>=(x=(h+r)/2))?h=x:r=x,(y=b>=(z=(q+k)/2))?q=z:k=z;while((B|=y<<1)===(y=(G>=z)<<1|C>=x));return m[y]=g,m[B]=n,a}function y(a){return a[0]}function C(a){return a[1]}function x(a,d,b){d=new r(null==d?y:d,null==b?C:b,NaN,NaN,NaN,NaN);return null==a?d:d.addAll(a)}function r(a,d,b,n,m,g){this._x=a;this._y=d;this._x0=b;this._y0=n;this._x1=m;this._y1=g;
this._root=void 0}function z(a){for(var d={data:a.data},b=d;a=a.next;)b=b.next={data:a.data};return d}var B=function(a,d,b,n,m){this.node=a;this.x0=d;this.y0=b;this.x1=n;this.y1=m},F=x.prototype=r.prototype;F.copy=function(){var a=new r(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root,b,n;if(!d)return a;if(!d.length)return a._root=z(d),a;for(b=[{source:d,target:a._root=Array(4)}];d=b.pop();)for(var m=0;4>m;++m)if(n=d.source[m])n.length?b.push({source:n,target:d.target[m]=Array(4)}):
d.target[m]=z(n);return a};F.add=function(a){var d=+this._x.call(null,a),b=+this._y.call(null,a);return m(this.cover(d,b),d,b,a)};F.addAll=function(a){var d,b,n=a.length,q,g,h=Array(n),r=Array(n),w=Infinity,k=Infinity,x=-Infinity,z=-Infinity;for(b=0;b<n;++b)isNaN(q=+this._x.call(null,d=a[b]))||isNaN(g=+this._y.call(null,d))||(h[b]=q,r[b]=g,q<w&&(w=q),q>x&&(x=q),g<k&&(k=g),g>z&&(z=g));x<w&&(w=this._x0,x=this._x1);z<k&&(k=this._y0,z=this._y1);this.cover(w,k).cover(x,z);for(b=0;b<n;++b)m(this,h[b],r[b],
a[b]);return this};F.cover=function(a,d){if(isNaN(a=+a)||isNaN(d=+d))return this;var b=this._x0,n=this._y0,m=this._x1,g=this._y1;if(isNaN(b))m=(b=Math.floor(a))+1,g=(n=Math.floor(d))+1;else if(b>a||a>m||n>d||d>g){var h=m-b,q=this._root,r;switch(r=(d<(n+g)/2)<<1|a<(b+m)/2){case 0:do{var k=Array(4);k[r]=q;q=k}while(h*=2,m=b+h,g=n+h,a>m||d>g);break;case 1:do k=Array(4),k[r]=q,q=k;while(h*=2,b=m-h,g=n+h,b>a||d>g);break;case 2:do k=Array(4),k[r]=q,q=k;while(h*=2,m=b+h,n=g-h,a>m||n>d);break;case 3:do k=
Array(4),k[r]=q,q=k;while(h*=2,b=m-h,n=g-h,b>a||n>d)}this._root&&this._root.length&&(this._root=q)}else return this;this._x0=b;this._y0=n;this._x1=m;this._y1=g;return this};F.data=function(){var a=[];this.visit(function(d){if(!d.length){do a.push(d.data);while(d=d.next)}});return a};F.extent=function(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};F.find=function(a,d,b){var n=this._x0,m=this._y0,g,
h,q,r,k=this._x1,x=this._y1,z=[],y=this._root,C;y&&z.push(new B(y,n,m,k,x));null==b?b=Infinity:(n=a-b,m=d-b,k=a+b,x=d+b,b*=b);for(;C=z.pop();)if(!(!(y=C.node)||(g=C.x0)>k||(h=C.y0)>x||(q=C.x1)<n||(r=C.y1)<m))if(y.length){C=(g+q)/2;var G=(h+r)/2;z.push(new B(y[3],C,G,q,r),new B(y[2],g,G,C,r),new B(y[1],C,h,q,G),new B(y[0],g,h,C,G));if(y=(d>=G)<<1|a>=C)C=z[z.length-1],z[z.length-1]=z[z.length-1-y],z[z.length-1-y]=C}else if(C=a-+this._x.call(null,y.data),G=d-+this._y.call(null,y.data),C=C*C+G*G,C<b){var F=
Math.sqrt(b=C);n=a-F;m=d-F;k=a+F;x=d+F;F=y.data}return F};F.remove=function(a){if(isNaN(w=+this._x.call(null,a))||isNaN(k=+this._y.call(null,a)))return this;var d,b=this._root,m,q=this._x0,g=this._y0,h=this._x1,r=this._y1,w,k,x,z,B,y;if(!b)return this;if(b.length)for(;;){(B=w>=(x=(q+h)/2))?q=x:h=x;(y=k>=(z=(g+r)/2))?g=z:r=z;if(!(d=b,b=b[B|=y<<1]))return this;if(!b.length)break;if(d[B+1&3]||d[B+2&3]||d[B+3&3]){var C=d;var G=B}}for(;b.data!==a;)if(!(m=b,b=b.next))return this;(a=b.next)&&delete b.next;
if(m)return a?m.next=a:delete m.next,this;if(!d)return this._root=a,this;a?d[B]=a:delete d[B];(b=d[0]||d[1]||d[2]||d[3])&&b===(d[3]||d[2]||d[1]||d[0])&&!b.length&&(C?C[G]=b:this._root=b);return this};F.removeAll=function(a){for(var d=0,b=a.length;d<b;++d)this.remove(a[d]);return this};F.root=function(){return this._root};F.size=function(){var a=0;this.visit(function(d){if(!d.length){do++a;while(d=d.next)}});return a};F.visit=function(a){var d=[],b,m=this._root,q,g,h,r;for(m&&d.push(new B(m,this._x0,
this._y0,this._x1,this._y1));b=d.pop();)if(!a(m=b.node,g=b.x0,h=b.y0,r=b.x1,b=b.y1)&&m.length){var w=(g+r)/2,k=(h+b)/2;(q=m[3])&&d.push(new B(q,w,k,r,b));(q=m[2])&&d.push(new B(q,g,k,w,b));(q=m[1])&&d.push(new B(q,w,h,r,k));(q=m[0])&&d.push(new B(q,g,h,w,k))}return this};F.visitAfter=function(a){var d=[],b=[],m;for(this._root&&d.push(new B(this._root,this._x0,this._y0,this._x1,this._y1));m=d.pop();){var q=m.node;if(q.length){var g,h=m.x0,r=m.y0,w=m.x1,k=m.y1,x=(h+w)/2,z=(r+k)/2;(g=q[0])&&d.push(new B(g,
h,r,x,z));(g=q[1])&&d.push(new B(g,x,r,w,z));(g=q[2])&&d.push(new B(g,h,z,x,k));(g=q[3])&&d.push(new B(g,x,z,w,k))}b.push(m)}for(;m=b.pop();)a(m.node,m.x0,m.y0,m.x1,m.y1);return this};F.x=function(a){return arguments.length?(this._x=a,this):this._x};F.y=function(a){return arguments.length?(this._y=a,this):this._y};a.quadtree=x;Object.defineProperty(a,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$d3_quadtree$build$d3_quadtree.js.map
